import{e as P,f as k,r as g,i as te,g as ue,w as D,u as b,h as A,j as I,n as $,k as U,o as v,l as N,c as p,m as be,d as ie,p as ke,q as $e,s as le,x as ae,y as h,t as y,a as m,z as B,F as we,A as oe,B as V,b as ne}from"./index-DlnDbVnA.js";import{a as z}from"./axios-DsPaXkF5.js";const Ve=["primary","secondary","success","danger","warning","info","light","dark"],xe="rgba({{color}}, 0.2) 0, rgba({{color}}, 0.3) 40%, rgba({{color}}, 0.4) 50%, rgba({{color}}, 0.5) 60%, rgba({{color}}, 0) 70%",Ee=[0,0,0],se=.5,Ce=e=>e&&Ve.includes(e.toLowerCase()),Se=(e,l)=>{const a=o=>(o.length<7&&(o=`#${o[1]}${o[1]}${o[2]}${o[2]}${o[3]}${o[3]}`),[parseInt(o.substr(1,2),16),parseInt(o.substr(3,2),16),parseInt(o.substr(5,2),16)]),t=o=>{const n=document.body.appendChild(document.createElement("fictum")),u="rgb(1, 2, 3)";return n.style.color=u,n.style.color!==u||(n.style.color=o,n.style.color===u||n.style.color==="")?(document.body.removeChild(n),l):(o=getComputedStyle(n).color,document.body.removeChild(n),o)},s=o=>{const n=o.match(/[.\d]+/g);if(n===null)return;const u=n.map(i=>+Number(i));return u.length=3,u};return typeof e=="string"&&e.toLowerCase()==="transparent"?l:typeof e=="string"&&e[0]==="#"?a(e):(typeof e=="string"&&e.indexOf("rgb")===-1&&(e=t(e)),typeof e=="string"&&e.indexOf("rgb")===0?s(e):l)},Be=({offsetX:e,offsetY:l,height:a,width:t})=>{const s=l<=a/2,o=e<=t/2,n=(x,T)=>Math.sqrt(x**2+T**2),u=l===a/2&&e===t/2,i={first:s===!0&&o===!1,second:s===!0&&o===!0,third:s===!1&&o===!0,fourth:s===!1&&o===!1},d={topLeft:n(e,l),topRight:n(t-e,l),bottomLeft:n(e,a-l),bottomRight:n(t-e,a-l)};let f=0;return u||i.fourth?f=d.topLeft:i.third?f=d.topRight:i.second?f=d.bottomRight:i.first&&(f=d.bottomLeft),f*2},Oe=(e,l)=>{for(const a in l)e.style[a]=l[a]},Le=e=>{const l=Se(e,Ee);if(e!==""&&l){const a=l.join(",");return`radial-gradient(circle, ${xe.split("{{color}}").join(`${a}`)})`}},Ne=(e,l,a)=>{const t=document.createElement("div");t.classList.add("ripple-wave");const s={offsetX:a.centered?l.height/2:l.left,offsetY:a.centered?l.width/2:l.top,height:l.height,width:l.width},o=Be(s),n=a.radius||o/2,u={delay:a.duration&&a.duration*se,duration:a.duration&&a.duration-a.duration*se},i={left:a.centered?`${Math.round(l.width/2-n)}px`:`${Math.round(l.left-n)}px`,top:a.centered?`${Math.round(l.height/2-n)}px`:`${Math.round(l.top-n)}px`,height:`${Math.round(a.radius&&a.radius*2||o)}px`,width:`${Math.round(a.radius&&a.radius*2||o)}px`,transitionDelay:`0s, ${u.delay}ms`,transitionDuration:`${a.duration}ms, ${u.duration}ms`};a.unbound&&e.classList.add("ripple-surface-unbound"),Ce(a.color)?e.classList.add(`ripple-surface-${a.color}`):i.backgroundImage=Le(a.color),Oe(t,i),e.appendChild(t),setTimeout(()=>{t.classList.add("active")},50),setTimeout(()=>{e.removeChild(t)},a.duration?a.duration+1e3:1e3)},re={mounted(e,l){if(l.value===!1)return;const a={centered:l.value&&l.value.centered||!1,color:l.value&&l.value.color||"",duration:l.value&&l.value.duration||500,radius:l.value&&l.value.radius||0,unbound:l.value&&l.value.unbound||!1};e.classList.add("ripple-surface"),e.waves=t=>{const s={top:t.offsetY,left:t.offsetX,height:e.offsetHeight,width:e.offsetWidth};Ne(e,s,a)},e.addEventListener("click",t=>e.waves(t))},updated(e,l){l.value!==!1&&(e.classList.contains("ripple-surface")||e.classList.add("ripple-surface"))},unmounted(e){e.removeEventListener("click",l=>e.waves(l))}},Ie={name:"MDBBtn"},H=P({...Ie,props:{color:String,size:String,outline:String,rounded:Boolean,floating:Boolean,toggler:Boolean,toggle:Boolean,role:{type:String,default:"button"},type:{type:String,default:"button"},tag:{type:String,default:"button"},block:{type:Boolean,default:!1},ripple:{type:[Object,Boolean],default:e=>e.outline||e.color==="light"||e.color==="link"?{color:"dark"}:!0},picker:Boolean},emits:["update:toggle"],setup(e,{emit:l}){const a=e,t=g(a.toggle),s=k(()=>[!a.picker&&"btn",a.color&&`btn-${a.color}`,a.size&&`btn-${a.size}`,a.outline&&`btn-outline-${a.outline}`,a.rounded&&"btn-rounded",a.floating&&"btn-floating",a.block&&"btn-block",t.value&&"active"]),o=()=>{a.toggler&&(t.value=!t.value,l("update:toggle",t.value))};return(n,u)=>D((v(),A(U(e.tag),{type:e.type,role:e.role,class:$(s.value),onClick:o},{default:I(()=>[N(n.$slots,"default")]),_:3},8,["type","role","class"])),[[b(re),e.ripple]])}}),Re=1e6,Me=e=>{do e+=Math.floor(Math.random()*Re);while(document.getElementById(e));return e},_e=/\..*/,De={mouseenter:"mouseover",mouseleave:"mouseout"},Te=["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"];function de(e,l,a){const t=typeof l=="string",s=t?a:l;let o=e.replace(_e,"");const n=De[o];return n&&(o=n),Te.indexOf(o)>-1||(o=e),[t,s,o]}function Fe(e,l,a,t){if(typeof l!="string"||!e)return;a||(a=t,t=void 0);const[s,o,n]=de(l,a,t);e.addEventListener(n,o,s)}function ze(e,l,a,t){e.removeEventListener(l,a,!!t)}const He=function(e,l,a,t=void 0){Fe(e,l,a,t)},Ge=function(e,l,a,t=void 0){if(typeof l!="string"||!e)return;const[s,o,n]=de(l,a,t);ze(e,n,o,s?a:void 0)};var G={stopProp(e){e.stopPropagation()},mounted(e,l){const a=s=>{const o=s.target;!e.contains(o)&&e!==o&&l.value(s)};e.clickOutside=a;const t=l.modifiers.mousedown?"mousedown":"click";document.addEventListener(t,s=>{var o;return(o=e.clickOutside)==null?void 0:o.call(e,s)}),document.addEventListener("touchstart",s=>{var o;return(o=e.clickOutside)==null?void 0:o.call(e,s)})},unmounted(e,l){if(!e.clickOutside)return;const a=l.modifiers.mousedown?"mousedown":"click";document.removeEventListener(a,t=>{var s;return(s=e.clickOutside)==null?void 0:s.call(e,t)}),document.removeEventListener("touchstart",t=>{var s;return(s=e.clickOutside)==null?void 0:s.call(e,t)}),delete e.clickOutside}};const Pe={key:1,class:"visually-hidden"},Ae={name:"MDBDropdownToggle"};P({...Ae,props:{...H.props,tag:{type:String,default:"button"},href:[String,null],split:{type:Boolean,default:!1}},setup(e){const l=e,a=k(()=>[t.value,"dropdown-toggle",l.split&&"dropdown-toggle-split",l.size&&`btn-${l.size}`,l.outline&&`btn-outline-${l.outline}`]),t=k(()=>l.tag!=="button"?void 0:`btn ${l.color&&!l.outline?`btn-${l.color}`:l.outline?"":"btn-primary"}`),s=g(!1),o=()=>{s.value=!s.value},n=te("isPopperActive");ue(()=>{s.value=n?n.value:!1});const u=te("handleEscAndOutsideClick"),i=d=>{const f=d.target;n&&!f.closest(".dropdown-menu")&&(u==null||u())};return(d,f)=>D((v(),A(U(e.tag),{type:"button",class:$(a.value),"aria-expanded":s.value,"aria-haspopup":"true",onClick:o,"data-trigger":""},{default:I(()=>[e.split?(v(),p("span",Pe,"Toggle Dropdown")):N(d.$slots,"default",{key:0})]),_:3},8,["class","aria-expanded"])),[[b(G),i],[b(re)]])}});const Ue=["id","value"],je=["for"],qe={key:2,class:"form-helper"},We={key:3,class:"form-helper"},Xe={class:"form-counter"},Je=m("div",{class:"form-notch-trailing"},null,-1),Ke=["id","value"],Qe=["for"],Ze={key:1,class:"form-helper"},Ye={key:2,class:"form-helper"},et={class:"form-counter"},tt=m("div",{class:"form-notch-trailing"},null,-1),lt={key:9,class:"form-text"},at={name:"MDBInput",inheritAttrs:!1},ot=P({...at,props:{id:String,label:String,labelClass:String,modelValue:[String,Number,Date],size:String,formOutline:{type:Boolean,default:!0},wrapperClass:String,inputGroup:{type:[Boolean,String],default:!1},wrap:{type:Boolean,default:!0},formText:String,white:Boolean,validationEvent:String,isValidated:Boolean,isValid:Boolean,validFeedback:String,invalidFeedback:String,tooltipFeedback:{type:Boolean,default:!1},tag:{type:String,default:"div"},helper:String,counter:Boolean,maxlength:{type:Number,default:0}},emits:["update:modelValue","click-outside","on-validate"],setup(e,{expose:l,emit:a}){const t=e,s=be(),o=g(null),n=g(t.modelValue),u=g(null),i=g(!1),d=g(9),f=g(0),x=t.id||Me("MDBInput-"),T=k(()=>[t.formOutline&&"form-outline",ce.value,t.white&&"form-white",t.wrapperClass]),j=k(()=>["form-control",t.size?`form-control-${t.size}`:t.inputGroup&&t.inputGroup!==!0&&`form-control-${t.inputGroup}`,(n.value||n.value===0)&&"active",i.value&&"placeholder-active",E.value&&w.value&&"is-valid",E.value&&!w.value&&"is-invalid"]),q=k(()=>["form-label",t.labelClass]),ce=k(()=>{if(t.inputGroup)return t.inputGroup!==!0?`input-group input-group-${t.inputGroup}`:"input-group"}),ve=k(()=>t.inputGroup&&E.value?{marginBottom:"1rem"}:""),W=k(()=>t.tooltipFeedback?"valid-tooltip":"valid-feedback"),X=k(()=>t.tooltipFeedback?"invalid-tooltip":"invalid-feedback"),E=g(t.isValidated),w=g(t.isValid),J=g(""),R=k(()=>E.value&&!w.value&&t.validationEvent?J.value:t.invalidFeedback),K=r=>{const c=r.target;w.value=c.checkValidity(),w.value||(J.value=c.validationMessage),E.value=!0,a("on-validate",w.value)},me=()=>{t.validationEvent!=="submit"&&o.value&&t.validationEvent&&He(o.value,t.validationEvent,K)};function F(){u.value&&(f.value=u.value.clientWidth*.8+8)}const fe=k(()=>t.label&&u.value&&f.value===8&&u.value.textContent!=="");function Q(){s.placeholder&&!u.value?i.value=!0:i.value=!1}const C=g(null);C.value=typeof n.value=="string"&&n.value?n.value.length:0;function Z(r){const c=r.target;if(t.maxlength&&c.value.length>t.maxlength&&typeof n.value=="string"){c.value=n.value;return}C.value=c.value.length,n.value=c.value,a("update:modelValue",n.value)}function Y(){_(!0),t.label&&fe.value&&F()}function ee(){a("click-outside")}const M=g(null),S=g(null),pe=r=>{S.value&&S.value.forEach(c=>c.style.opacity=r?"0":"1"),r&&M.value&&(M.value.style.opacity="1")},ge=s.type&&s.type==="date",_=(r=!1)=>{var c;t.label&&t.formOutline&&S.value&&((c=S.value)==null?void 0:c.length)>1&&pe(r),ge&&o.value&&(o.value.type=r?"date":"text")},he=r=>![...r.parentNode.children].findIndex(c=>c===r);return ie(()=>{var r;if(F(),Q(),_(),t.label&&t.formOutline&&o.value&&(S.value=((r=o.value.parentNode)==null?void 0:r.querySelectorAll(".form-notch"))||null),t.label&&t.formOutline&&u.value&&o.value&&!he(o.value)){const c=parseFloat(getComputedStyle(u.value).left);u.value.style.left=`${c+o.value.offsetLeft}px`,d.value+=o.value.offsetLeft}t.validationEvent&&me()}),ke(()=>{F(),Q()}),$e(()=>{o.value&&t.validationEvent&&Ge(o.value,t.validationEvent,K)}),ue(()=>{var r,c;if(typeof t.modelValue=="string"){if(t.maxlength&&((r=t.modelValue)==null?void 0:r.length)>t.maxlength){n.value=t.modelValue.slice(0,t.maxlength),C.value=t.maxlength;return}C.value=((c=t.modelValue)==null?void 0:c.length)||0}n.value=t.modelValue}),le(()=>t.isValidated,r=>E.value=r),le(()=>t.isValid,r=>w.value=r),l({inputRef:o}),(r,c)=>(v(),p(we,null,[e.wrap?h("",!0):D((v(),p("input",ae({key:0,class:j.value,id:b(x),value:n.value},r.$attrs,{onInput:Z,ref_key:"inputRef",ref:o,onFocus:Y,onBlur:c[0]||(c[0]=ye=>_())}),null,16,Ue)),[[b(G),ee]]),e.label&&!e.wrap?(v(),p("label",{key:1,ref_key:"labelRef",ref:u,class:$(q.value),for:b(x)},y(e.label),11,je)):h("",!0),!e.wrap&&e.helper?(v(),p("div",qe,y(e.helper),1)):h("",!0),!e.wrap&&e.counter?(v(),p("div",We,[m("div",Xe,y(C.value)+" / "+y(e.maxlength),1)])):h("",!0),e.wrap?h("",!0):N(r.$slots,"default",{key:4}),!e.wrap&&e.validFeedback?(v(),p("div",{key:5,class:$(W.value)},y(e.validFeedback),3)):h("",!0),!e.wrap&&R.value?(v(),p("div",{key:6,class:$(X.value)},y(R.value),3)):h("",!0),!e.wrap&&e.formOutline?(v(),p("div",{key:7,class:"form-notch",ref_key:"notchRef",ref:M},[m("div",{class:"form-notch-leading",style:B({width:`${d.value}px`})},null,4),m("div",{class:"form-notch-middle",style:B({width:`${f.value}px`})},null,4),Je],512)):h("",!0),e.wrap?D((v(),A(U(e.tag),{key:8,class:$(T.value),style:B(ve.value)},{default:I(()=>[N(r.$slots,"prepend"),m("input",ae({class:j.value},r.$attrs,{id:b(x),value:n.value,onInput:Z,ref_key:"inputRef",ref:o,onFocus:Y,onBlur:c[1]||(c[1]=ye=>_())}),null,16,Ke),e.label?(v(),p("label",{key:0,ref_key:"labelRef",ref:u,class:$(q.value),for:b(x)},y(e.label),11,Qe)):h("",!0),e.helper?(v(),p("div",Ze,y(e.helper),1)):h("",!0),e.counter?(v(),p("div",Ye,[m("div",et,y(C.value)+" / "+y(e.maxlength),1)])):h("",!0),N(r.$slots,"default"),e.validFeedback?(v(),p("div",{key:3,class:$(W.value)},y(e.validFeedback),3)):h("",!0),R.value?(v(),p("div",{key:4,class:$(X.value)},y(R.value),3)):h("",!0),e.formOutline?(v(),p("div",{key:5,class:"form-notch",ref_key:"notchRef",ref:M},[m("div",{class:"form-notch-leading",style:B({width:`${d.value}px`})},null,4),m("div",{class:"form-notch-middle",style:B({width:`${f.value}px`})},null,4),tt],512)):h("",!0)]),_:3},8,["class","style"])),[[b(G),ee]]):h("",!0),e.formText?(v(),p("div",lt,y(e.formText),1)):h("",!0)],64))}});var O=ot;const nt={class:"container p-5 mt-5"},st={class:"row"},ut={class:"col-lg-6 col-md-8 col-sm-12 mx-auto"},it=m("h2",null,"註冊",-1),rt={key:0,class:"mt-3"},dt=m("hr",{class:"my-4"},null,-1),ct={class:"row"},vt={class:"col-lg-6 col-md-8 col-sm-12 mx-auto"},mt=m("h2",null,"登入",-1),ft={key:0,class:"mt-3"},pt={class:"row"},gt={class:"col-lg-6 col-md-8 col-sm-12 mx-auto mt-4"},ht={key:0},yt={key:1,class:"fw-bold"},L="https://todolist-api.hexschool.io",$t={__name:"boostrapView",setup(e){const l=g({email:"",password:"",nickname:""}),a=g(""),t=async()=>{console.log(`${L}/users/sign_up`);try{const i=await z.post(`${L}/users/sign_up`,l.value);console.log(i),a.value=i.data.uid}catch(i){console.log(i)}},s=g({email:"",password:""}),o=g(""),n=async()=>{console.log(`${L}/users/sign_in`);try{const i=await z.post(`${L}/users/sign_in`,s.value);console.log(i),o.value=i.data.token,document.cookie=`customTodoToken=${i.data.token};`}catch(i){console.log(i)}},u=g({nickname:"",uid:""});return ie(async()=>{const i=document.cookie.replace(/(?:(?:^|.*;\s*)customTodoToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");console.log(i);const d=await z.get(`${L}/users/checkout`,{headers:{Authorization:i}});console.log(d),u.value=d.data}),(i,d)=>(v(),p("div",nt,[m("div",st,[m("div",ut,[it,m("form",{onSubmit:oe(t,["prevent"])},[V(b(O),{type:"email",label:"Email",id:"signupEmail",modelValue:l.value.email,"onUpdate:modelValue":d[0]||(d[0]=f=>l.value.email=f),wrapperClass:"mb-4"},null,8,["modelValue"]),V(b(O),{type:"password",label:"Password",id:"signupPassword",modelValue:l.value.password,"onUpdate:modelValue":d[1]||(d[1]=f=>l.value.password=f),wrapperClass:"mb-4"},null,8,["modelValue"]),V(b(O),{type:"text",label:"Nickname",id:"signupNickname",modelValue:l.value.nickname,"onUpdate:modelValue":d[2]||(d[2]=f=>l.value.nickname=f),wrapperClass:"mb-4"},null,8,["modelValue"]),V(b(H),{color:"black",block:"",onClick:t},{default:I(()=>[ne("註冊")]),_:1}),a.value?(v(),p("div",rt,[m("p",null,"UID: "+y(a.value),1)])):h("",!0)],32)])]),dt,m("div",ct,[m("div",vt,[mt,m("form",{onSubmit:oe(n,["prevent"])},[V(b(O),{type:"email",label:"Email",id:"signinEmail",modelValue:s.value.email,"onUpdate:modelValue":d[3]||(d[3]=f=>s.value.email=f),wrapperClass:"mb-4"},null,8,["modelValue"]),V(b(O),{type:"password",label:"Password",id:"signinPassword",modelValue:s.value.password,"onUpdate:modelValue":d[4]||(d[4]=f=>s.value.password=f),wrapperClass:"mb-4"},null,8,["modelValue"]),V(b(H),{color:"black",block:"",onClick:n},{default:I(()=>[ne("登入")]),_:1}),o.value?(v(),p("div",ft,[m("p",null,"Token: "+y(o.value),1)])):h("",!0)],32)])]),m("div",pt,[m("div",gt,[u.value.uid?(v(),p("div",ht,[m("p",null,"UID:"+y(u.value.uid),1),m("p",null,"NickName:"+y(u.value.nickname),1)])):(v(),p("div",yt,"你還沒有登入"))])])]))}};export{$t as default};
